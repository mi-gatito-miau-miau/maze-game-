<!DOCTYPE html>
<html>
<head>
  <title>Maze Runner â€“ Hard Mode</title>
  <style>
    body {
      background: #0b0b0b;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      color: white;
      font-family: Arial;
      flex-direction: column;
    }
    canvas {
      background: #1a1a1a;
      border: 4px solid white;
    }
    #info {
      margin-top: 10px;
    }
  </style>
</head>
<body>

<canvas id="game" width="600" height="600"></canvas>
<div id="info">Moves: <span id="moves">0</span></div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const movesEl = document.getElementById("moves");

const tile = 40;

// 1 = wall, 0 = path, 2 = goal
const maze = [
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
  [1,0,0,0,1,0,0,0,0,0,1,0,0,0,1],
  [1,0,1,0,1,0,1,1,1,0,1,0,1,0,1],
  [1,0,1,0,0,0,1,0,0,0,1,0,1,0,1],
  [1,0,1,1,1,0,1,0,1,1,1,0,1,0,1],
  [1,0,0,0,1,0,0,0,0,0,1,0,0,0,1],
  [1,1,1,0,1,1,1,1,1,0,1,1,1,0,1],
  [1,0,0,0,0,0,0,0,1,0,0,0,1,0,1],
  [1,0,1,1,1,1,1,0,1,1,1,0,1,0,1],
  [1,0,0,0,0,0,1,0,0,0,1,0,0,0,1],
  [1,1,1,1,1,0,1,1,1,0,1,1,1,0,1],
  [1,0,0,0,1,0,0,0,1,0,0,0,1,0,1],
  [1,0,1,0,1,1,1,0,1,1,1,0,1,0,1],
  [1,0,1,0,0,0,0,0,0,0,0,0,0,2,1],
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
];

let player = { x: 1, y: 1 };
let moves = 0;

function draw() {
  ctx.clearRect(0,0,600,600);

  for (let y = 0; y < maze.length; y++) {
    for (let x = 0; x < maze[0].length; x++) {
      if (maze[y][x] === 1) {
        ctx.fillStyle = "#444";
        ctx.fillRect(x*tile, y*tile, tile, tile);
      }
      if (maze[y][x] === 2) {
        ctx.fillStyle = "gold";
        ctx.fillRect(x*tile, y*tile, tile, tile);
      }
    }
  }

  // Player
  ctx.fillStyle = "lime";
  ctx.fillRect(player.x*tile, player.y*tile, tile, tile);
}

function move(dx, dy) {
  const nx = player.x + dx;
  const ny = player.y + dy;

  if (maze[ny][nx] !== 1) {
    player.x = nx;
    player.y = ny;
    moves++;
    movesEl.textContent = moves;

    if (maze[ny][nx] === 2) {
      setTimeout(() => {
        alert("ðŸ† Maze Complete!\nMoves: " + moves);
        location.reload();
      }, 100);
    }
  }
  draw();
}

document.addEventListener("keydown", e => {
  if (e.key === "ArrowUp") move(0,-1);
  if (e.key === "ArrowDown") move(0,1);
  if (e.key === "ArrowLeft") move(-1,0);
  if (e.key === "ArrowRight") move(1,0);
});

draw();
</script>

</body>
</html>
